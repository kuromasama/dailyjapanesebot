# 📖 README.md (操作手冊)

## 🇯🇵 AI 日文斯巴達家教 (N2 Spartan Bot)

這是一個具備 **「情緒感知」**、**「解答延遲」** 與 **「學習追蹤」** 的 AI 家教。
它會根據你每天的努力程度，決定要誇獎你還是情勒你，並且嚴格追蹤你的執行回數。

## ✨ 主要功能

### 1. 🗂️ 單字管理 (Vocabulary)
* **批量匯入**：直接貼上 JSON 格式文字。
* **手動存詞**：輸入 `漢字 假名 意思`。
* **記憶強化**：重複輸入同一單字時，系統會記錄並增加該單字在考試中出現的權重。

### 2. 📝 全能批改 & 進步分析 (Analysis)
* **不分作業或練習**：無論你回傳的是「題號答案」還是「隨手一句日文」，AI 都會進行批改。
* **進步追蹤**：AI 會讀取你的歷史翻譯紀錄，分析你的文法是否變精準、詞彙是否豐富，並給予鼓勵或警惕。
* **三種說法**：批改時提供 **正式 (Formal)**、**口語 (Casual)**、**換句話說 (Paraphrase)** 三種版本。

### 3. 😈 情緒化每日測驗 & 執行次數 (Daily Quiz)
* **時間**：每天台灣時間 **12:05** 自動執行。
* **執行回數追蹤**：
    * 系統會明確記錄並播報「這是第 N 次特訓」。
    * 即使一天手動執行多次，次數也會累計，方便你掌握總練習量。
* **判斷機制**：依據你「昨天的答題數量」與「是否偷懶」。
    * **答題率高**：🎉 **誇獎模式** (你真棒！)。
    * **答題率低**：😐 **嚴師模式** (再加油好嗎？)。
    * **完全沒練**：😈 **情勒模式** (為什麼無視我？不想考 N2 了？)。

### 4. ⏳ 解答延遲機制 (Deferred Answers)
為了避免你「看完答案就覺得自己會了」，本系統採用隔日詳解制：
* **今日**：發送題目卷。
* **明日**：執行時先發送「昨天的詳解」，再發送「今天的題目」。
* *(註：若是第一次執行，只會收到題目)*

---

## 🕹️ 使用指南與測資 (Test Data)

請直接複製以下內容傳送給 Telegram 機器人進行測試。

### A. 匯入單字 (Import)

直接傳送以下 JSON 文字：

```json
[
  {"kanji": "成長", "kana": "せいちょう", "meaning": "成長"},
  {"kanji": "確認", "kana": "かくにん", "meaning": "確認"},
  {"kanji": "連絡", "kana": "れんらく", "meaning": "聯絡"}
]

```

### B. 存單字 (Add Word)

傳送以下文字 (中間需有空格)：

```text
我慢 がまん 忍耐

```

*(若重複輸入，機器人會回覆「🔄 強化記憶」)*

### C. 翻譯/交作業 (Practice)

**這是最重要的功能！** 你可以傳送單句，也可以一次傳送多句作業。

**範例 1：交作業 (多行)**

```text
1. 明日は雨が降るそうです。
2. 先生に連絡しました。
3. 成長したいです。

```

*(這會被計為 3 題答題數)*

**範例 2：隨堂練習 (單句)**

```text
ご飯食べに行こう！

```

*(AI 會分析你的語氣並提供正式說法)*

---

## ⚠️ 重要提醒 (Limitations)

1. **API 額度限制**：

* 本專案使用 Google Gemini 免費版 API。
* 每日/每分鐘有請求上限 (20 次/日)，請留意使用量。

2. **手動批改 (Manual Trigger)**：

* 除了每天 12:05 自動執行外，你也可以隨時到 GitHub Actions 頁面點擊 **"Run workflow"**。
* **注意**：每次手動執行都會消耗一次 API 額度，並可能觸發新的測驗生成。
* **執行次數**：手動執行也會增加「執行回數」的計數。

